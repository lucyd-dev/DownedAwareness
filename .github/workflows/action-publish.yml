name: Publish Mod

# Run when a new tag is pushed (ie. via GitHub release or `git tag`)
on:
    push:
        tags:
            - '*'

jobs:
    publish:
        runs-on: ubuntu-latest
        steps:
            # Use checkout to publish the files in your repo
            - uses: actions/checkout@v4
            - uses: GreenTF/upload-thunderstore-package@v4.3
              with:
                repo: thunderstore.io
                namespace: LucydDemon
                description: Cant see where your unconscious friends are? This mod adds an indicator to make it easier to find them.
                name: DownedAwareness
                version: ${{ github.ref_name }}
                token: ${{ secrets.TS_KEY }}
                community: peak
                categories: |
                  mods
                  qol
                  client
